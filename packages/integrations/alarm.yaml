alarm_package:
  automation:
    - alias: "Send notification when alarm is Armed in Away mode"
      trigger:
        - platform: state
          entity_id: alarm_control_panel.home_monitoring
          to: "armed_away"
      action:
        - service: notify.notify_telegram
          data:
            message: "ğŸ‘»ë³´ì•ˆëª¨ë“œë¥¼ ì™¸ì¶œë¡œ ì„¤ì •í•©ë‹ˆë‹¤."
        - condition: or
          conditions:
            - condition: state
              entity_id: binary_sensor.smartthings_bedroom_contact_contact
              state: "on"
            - condition: state
              entity_id: binary_sensor.smartthings_dressroom_contact_contact
              state: "on"
            - condition: state
              entity_id: binary_sensor.smartthings_library_contact_contact
              state: "on"
            - condition: state
              entity_id: binary_sensor.smartthings_laundryroom_contact_contact
              state: "on"
        - service: notify.notify_telegram
          data:
            message: |
              â—ï¸ì™¸ì¶œëª¨ë“œì—ì„œ ì°½ë¬¸ì´ ì—´ë ¤ ìˆìŠµë‹ˆë‹¤.
              {% if is_state('binary_sensor.smartthings_bedroom_contact_contact', 'on') %}ğŸªŸì•ˆë°© ì°½ë¬¸{% endif %}
              {% if is_state('binary_sensor.smartthings_dressroom_contact_contact', 'on') %}ğŸªŸë“œë ˆìŠ¤ë£¸ ì°½ë¬¸{% endif %}
              {% if is_state('binary_sensor.smartthings_library_contact_contact', 'on') %}ğŸªŸë¼ì´ë¸ŒëŸ¬ë¦¬ ì°½ë¬¸{% endif %}
              {% if is_state('binary_sensor.smartthings_laundryroom_contact_contact', 'on') %}ğŸªŸë² ë€ë‹¤ ì°½ë¬¸{% endif %}
    - alias: "Send notification when alarm is Armed in Home mode"
      trigger:
        - platform: state
          entity_id: alarm_control_panel.home_monitoring
          to: "armed_home"
      action:
        - service: notify.notify_telegram
          data:
            message: "ğŸ‘»ë³´ì•ˆëª¨ë“œë¥¼ ì¬íƒìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤."
        - condition: or
          conditions:
            - condition: state
              entity_id: binary_sensor.smartthings_bedroom_contact_contact
              state: "on"
            - condition: state
              entity_id: binary_sensor.smartthings_dressroom_contact_contact
              state: "on"
            - condition: state
              entity_id: binary_sensor.smartthings_library_contact_contact
              state: "on"
            - condition: state
              entity_id: binary_sensor.smartthings_laundryroom_contact_contact
              state: "on"
        - service: notify.notify_telegram
          data:
            message: |
              â—ï¸ì¬íƒëª¨ë“œì—ì„œ ì°½ë¬¸ì´ ì—´ë ¤ ìˆìŠµë‹ˆë‹¤.
              {% if is_state('binary_sensor.smartthings_bedroom_contact_contact', 'on') %}ğŸªŸì•ˆë°© ì°½ë¬¸{% endif %}
              {% if is_state('binary_sensor.smartthings_dressroom_contact_contact', 'on') %}ğŸªŸë“œë ˆìŠ¤ë£¸ ì°½ë¬¸{% endif %}
              {% if is_state('binary_sensor.smartthings_library_contact_contact', 'on') %}ğŸªŸë¼ì´ë¸ŒëŸ¬ë¦¬ ì°½ë¬¸{% endif %}
              {% if is_state('binary_sensor.smartthings_laundryroom_contact_contact', 'on') %}ğŸªŸë² ë€ë‹¤ ì°½ë¬¸{% endif %}
    - alias: "Send notification when alarm is Armed in Night mode"
      trigger:
        - platform: state
          entity_id: alarm_control_panel.home_monitoring
          to: "armed_night"
      action:
        - service: notify.notify_telegram
          data:
            message: "ğŸ‘»ë³´ì•ˆëª¨ë“œë¥¼ ì·¨ì¹¨ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤."
        - condition: or
          conditions:
            - condition: state
              entity_id: binary_sensor.smartthings_bedroom_contact_contact
              state: "on"
            - condition: state
              entity_id: binary_sensor.smartthings_dressroom_contact_contact
              state: "on"
            - condition: state
              entity_id: binary_sensor.smartthings_library_contact_contact
              state: "on"
            - condition: state
              entity_id: binary_sensor.smartthings_laundryroom_contact_contact
              state: "on"
        - service: notify.notify_telegram
          data:
            message: |
              â—ï¸ì·¨ì¹¨ëª¨ë“œì—ì„œ ì°½ë¬¸ì´ ì—´ë ¤ ìˆìŠµë‹ˆë‹¤.
              {% if is_state('binary_sensor.smartthings_bedroom_contact_contact', 'on') %}ğŸªŸì•ˆë°© ì°½ë¬¸{% endif %}
              {% if is_state('binary_sensor.smartthings_dressroom_contact_contact', 'on') %}ğŸªŸë“œë ˆìŠ¤ë£¸ ì°½ë¬¸{% endif %}
              {% if is_state('binary_sensor.smartthings_library_contact_contact', 'on') %}ğŸªŸë¼ì´ë¸ŒëŸ¬ë¦¬ ì°½ë¬¸{% endif %}
              {% if is_state('binary_sensor.smartthings_laundryroom_contact_contact', 'on') %}ğŸªŸë² ë€ë‹¤ ì°½ë¬¸{% endif %}
    - alias: "Send notification when alarm is Disarmed"
      trigger:
        - platform: state
          entity_id: alarm_control_panel.home_monitoring
          to: "disarmed"
      action:
        - service: notify.notify_telegram
          data:
            message: "âœ…ë³´ì•ˆëª¨ë“œë¥¼ í•´ì œí•©ë‹ˆë‹¤."
    - alias: "Send notification when alarm is in pending status"
      trigger:
        - platform: state
          entity_id: alarm_control_panel.home_monitoring
          to: "pending"
      action:
        - service: notify.notify_telegram
          data:
            message: "â›”ï¸ë³´ì•ˆëª¨ë“œê°€ íœë”©ìƒíƒœì…ë‹ˆë‹¤."
    - alias: "Send notification when alarm triggered"
      trigger:
        - platform: state
          entity_id: alarm_control_panel.home_monitoring
          to: "triggered"
      action:
        - service: notify.notify_telegram
          data:
            message: "â—ï¸ê²½ê³ . ê²½ê³ . ê²½ë³´ì‹œìŠ¤í…œì´ ë™ì‘í•©ë‹ˆë‹¤."
        - service: notify.galaxy_cloud_speak
          data:
            message: "ê²½ê³ . ê²½ê³ . ê²½ë³´ì‹œìŠ¤í…œì´ ë™ì‘í•©ë‹ˆë‹¤."
    - alias: "Trigger alarm while armed away"
      trigger:
        - platform: state
          entity_id: binary_sensor.smartthings_bedroom_contact_contact
          to: "on"
        - platform: state
          entity_id: binary_sensor.smartthings_dressroom_contact_contact
          to: "on"
        - platform: state
          entity_id: binary_sensor.smartthings_library_contact_contact
          to: "on"
        - platform: state
          entity_id: binary_sensor.smartthings_laundryroom_contact_contact
          to: "on"
      condition:
        - condition: state
          entity_id: alarm_control_panel.home_monitoring
          state: armed_away
      action:
        service: alarm_control_panel.alarm_trigger
        target:
          entity_id: alarm_control_panel.home_monitoring
    - alias: "Trigger alarm while armed home"
      trigger:
        - platform: state
          entity_id: binary_sensor.smartthings_bedroom_contact_contact
          to: "on"
        - platform: state
          entity_id: binary_sensor.smartthings_dressroom_contact_contact
          to: "on"
        - platform: state
          entity_id: binary_sensor.smartthings_library_contact_contact
          to: "on"
        - platform: state
          entity_id: binary_sensor.smartthings_laundryroom_contact_contact
          to: "on"
      condition:
        - condition: state
          entity_id: alarm_control_panel.home_monitoring
          state: armed_home
      action:
        service: alarm_control_panel.alarm_trigger
        target:
          entity_id: alarm_control_panel.home_monitoring
    - alias: "Trigger alarm while armed night"
      trigger:
        - platform: state
          entity_id: binary_sensor.smartthings_bedroom_contact_contact
          to: "on"
        - platform: state
          entity_id: binary_sensor.smartthings_dressroom_contact_contact
          to: "on"
        - platform: state
          entity_id: binary_sensor.smartthings_library_contact_contact
          to: "on"
        - platform: state
          entity_id: binary_sensor.smartthings_laundryroom_contact_contact
          to: "on"
      condition:
        - condition: state
          entity_id: alarm_control_panel.home_monitoring
          state: armed_night
      action:
        service: alarm_control_panel.alarm_trigger
        target:
          entity_id: alarm_control_panel.home_monitoring
