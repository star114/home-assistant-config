iphonedetect_package:
  device_tracker:
    - platform: iphonedetect
      consider_home: 60
      new_device_defaults:
        track_new_devices: true
      hosts:
        HeesikiPhone: !secret HeesikiPhone_ip
        HeesikiPhone11ProMax: !secret HeesikiPhone11ProMax_ip
        HeesikiPadPro: !secret HeesikiPadPro_ip
        SeoJiniPhone: !secret SeoJiniPhone_ip

  automation:
    - alias: "Notify my presence"
      trigger:
        platform: state
        entity_id: device_tracker.heesikiphone
        from: "not_home"
        to: "home"
      action:
        service: notify.notify_telegram
        data:
          message: "üè° Heesik is now home"
    - alias: "Notify my absence"
      trigger:
        platform: state
        entity_id: device_tracker.heesikiphone
        from: "home"
        to: "not_home"
      action:
        service: notify.notify_telegram
        data:
          message: "üè° Heesik is now not home"
    - alias: "Notify seo's presence"
      trigger:
        platform: state
        entity_id: device_tracker.seojiniphone
        from: "not_home"
        to: "home"
      action:
        service: notify.notify_telegram
        data:
          message: "üè° Seo is now home"
    - alias: "Notify seo's absence"
      trigger:
        platform: state
        entity_id: device_tracker.seojiniphone
        from: "home"
        to: "not_home"
      action:
        service: notify.notify_telegram
        data:
          message: "üè° Seo is now not home"
